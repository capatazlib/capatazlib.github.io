<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>FAQ - Capataz Guide</title>
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="../favicon.svg">
                        <link rel="shortcut icon" href="../favicon.png">
                <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
                <link rel="stylesheet" href="../css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="../fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../general/introduction.html">Introduction</a></li><li class="chapter-item expanded "><a href="../golang/introduction.html"><strong aria-hidden="true">1.</strong> Golang Examples</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../golang/example_1.html"><strong aria-hidden="true">1.1.</strong> Drop-in Replacement Example</a></li><li class="chapter-item expanded "><a href="../golang/example_2.html"><strong aria-hidden="true">1.2.</strong> State Management Example</a></li></ol></li><li class="chapter-item expanded "><a href="../general/FAQ.html" class="active"><strong aria-hidden="true">2.</strong> FAQ</a></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title">Capataz Guide</h1>

                    <div class="right-buttons">
                                                <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="faq"><a class="header" href="#faq">FAQ</a></h1>
<h2 id="is-capataz-production-ready"><a class="header" href="#is-capataz-production-ready">Is Capataz production ready?</a></h2>
<p>We are currently using <a href="https://github.com/capatazlib/go-capataz">go-Capataz</a> in
various production systems at <a href="https://digitalocean.com">DigitalOcean</a> with
great success.</p>
<p>There are implementations in various languages but these are not production
ready and currently on (very slow paced) development.</p>
<h2 id="is-capataz-an-actor-system-like-akka"><a class="header" href="#is-capataz-an-actor-system-like-akka">Is Capataz an actor system like Akka?</a></h2>
<p>No. Capataz doesn't enforce or prescribe the Actor model as a way to accomplish
Supervision Trees. It encourages the usage of monitored
threads/routines/processes as a way to encapsulate business logic; however, it
doesn't impose any communication mechanisms between these threads.</p>
<h2 id="i-use-systemdk8s-is-capataz-still-useful-for-me"><a class="header" href="#i-use-systemdk8s-is-capataz-still-useful-for-me">I use systemd/k8s, is Capataz still useful for me?</a></h2>
<p>It depends. You may want to avoid restarting your program when a single logical
component in your application is failing. For example. Let's assume that your
application contains three logical components <code>A</code>, <code>B</code>, <code>C</code>.</p>
<pre class="mermaid">flowchart TD
  Root --&gt; nodea[&quot;A&quot;]
  Root --&gt; nodeb[&quot;B&quot;]
  Root --&gt; nodec[&quot;C&quot;]
  style nodeb stroke:#f66,stroke-width:2px
</pre>
<p>In this context, component <code>A</code> takes a considerate amount of time to build some
state (cache). You probably want to avoid crashing your application (resetting
that expensive state) when an error in component <code>B</code> occurs.</p>
<p>With Capataz you can tune the granularity of your restart strategy, adding
<a href="https://www.oreilly.com/library/view/release-it-2nd/9781680504552/f_0050.xhtml">bulkheads</a>
around components <code>A</code>, <code>B</code>, and <code>C</code> via supervision trees and restarting only
the component that is failing (<code>B</code> in this example).</p>
<h2 id="should-i-use-supervision-trees-everywhere"><a class="header" href="#should-i-use-supervision-trees-everywhere">Should I use supervision trees everywhere?</a></h2>
<p>It may be tempting, but no, we only recommend using Capataz in applications
where multiple components run concurrently and could fail in unexpected ways.</p>
<p>For example, if your application runs a single server (gRPC, HTTP), there is a
good change the server library already offers a reliable error handling
strategy, and adding Capataz may be overkill.</p>
<h2 id="is-it-good-to-restart-forever"><a class="header" href="#is-it-good-to-restart-forever">Is it good to restart forever?</a></h2>
<p>In most situations, no. You want to ensure Supervision trees have a <a href="">restart
tolerance</a> that works for your application, so that it propagates failures up
until the whole program gives up.</p>
<p>You want to do this for a couple of reasons:</p>
<ul>
<li>
<p>It triggers error notifications on your system when recovery mechanisms (like
restarting an invalid state) are not working (fail fast).</p>
</li>
<li>
<p>If logical components at the bottom of your tree are failing because some
resource (allocated at the root of the supervisor) is in an invalid state, you
want to make sure that restarts get propagated to the very top of the
application.</p>
</li>
</ul>
<p>By default, Capataz allows one (1) worker failure every five (5) seconds, if
your business domain requires the tolerance of more errors, you need to tweak
your supervision tree settings.</p>
<p>Remember, a supervision tree and a <em>properly configured</em> supervision tree are
two different things.</p>
<h2 id="is-capataz-a-library-or-a-framework"><a class="header" href="#is-capataz-a-library-or-a-framework">Is Capataz a library or a framework?</a></h2>
<p>It depends. If you use Capataz to spawn workers without relying on supervisors
to manage the state of your application, we argue Capataz may be a drop-in
library that replaces to your language's thread spawning mechanism.</p>
<p>It is unlikely that you will have a group of workers that do not communicate
between each other in a useful application, so you would rely on Capataz to
manage your resource lifecycles. This use-case moves the needle towards Capataz
being a framework.</p>
<p>All of this said, we developed Capataz with the framework use-case in mind.</p>
<h2 id="are-there-capataz-extensions"><a class="header" href="#are-there-capataz-extensions">Are there Capataz extensions?</a></h2>
<p>Unfortunately at the current time there are no open-source libraries that
would integrate Capataz with other observability tools like logging, Prometheus
or any visualization tool.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                                                    <a rel="prev" href="../golang/example_2.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                                    <a rel="prev" href="../golang/example_2.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                
                            </nav>

        </div>

        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
                <script type="text/javascript" src="../mermaid.min.js"></script>
                <script type="text/javascript" src="../mermaid-init.js"></script>
        
        
    </body>
</html>
